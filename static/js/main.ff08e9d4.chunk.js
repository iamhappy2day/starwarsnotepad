(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/yoda1.0ca9f4a8.png"},function(e,t,a){e.exports=a(27)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),l=a(1),o=a(2),i=a(4),u=a(3),p=a(5),m=(a(17),a(18),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"StarWars sketch notepad"))}}]),t}(r.a.Component)),h=(a(19),a(6)),d=a.n(h),f=a(7),v=function(){function e(){var t=this;Object(l.a)(this,e),this.getAllPeople=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://swapi.co/api/people/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t.transformPerson));case 4:case"end":return e.stop()}},e)})),this.getPerson=function(){var e=Object(f.a)(d.a.mark(function e(a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://swapi.co/api/people/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t.transformPerson(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://swapi.co/api/planets/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t.transformPlanet));case 4:case"end":return e.stop()}},e)})),this.getPlanet=function(){var e=Object(f.a)(d.a.mark(function e(a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://swapi.co/api/planets/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t.transformPlanet(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(f.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://swapi.co/api/starships/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t.transformStarship));case 4:case"end":return e.stop()}},e)})),this.getStarship=function(){var e=Object(f.a)(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("https://swapi.co/api/starships/".concat(a,"/")));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this.transformPlanet=function(e){return{id:t.extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this.transformStarship=function(e){return{id:t.extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.costInCredits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargoCapacity}},this.transformPerson=function(e){return{id:t.extractId(e),name:e.name,gender:e.gender,height:e.height,hair_color:e.hair_color,mass:e.mass,birth_year:e.birth_year,eye_color:e.eye_color}}}return Object(o.a)(e,[{key:"getResource",value:function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+"received ".concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=(a(21),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-radio"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}),b=a(10),g=a.n(b),w=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).swapiService=new v,e.state={planet:{},loading:!0},e.onPlanetLoaded=function(t){e.setState({planet:t,loading:!1,error:!1})},e.onError=function(t){e.setState({error:!0,loading:!1})},e.updatePlanet=function(){var t=Math.floor(23*Math.random())+3;e.swapiService.getPlanet(t).then(e.onPlanetLoaded).catch(e.onError)},e.updatePlanet(),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,4e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.planet,a=e.loading,n=(e.error,a?r.a.createElement(E,null):null),c=a?null:r.a.createElement(j,{planet:t});return r.a.createElement("div",{className:"random-planet jumbotron"},n,c,r.a.createElement("img",{className:"img-item",src:g.a}))}}]),t}(r.a.Component),j=function(e){var t=e.planet,a=t.id,n=t.name,c=t.population,s=t.rotationPeriod,l=t.diameter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"planet-wrapper"},r.a.createElement("div",{className:"planet-image"},r.a.createElement("img",{className:"planetImg",src:"https://starwars-visualguide.com/assets/img/planets/".concat(a,".jpg"),alt:"Dart Vader stole this picture from API..."})),r.a.createElement("div",{className:"planet-info"},r.a.createElement("h2",null,n),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"param"},"Population :"),r.a.createElement("span",null,c)),r.a.createElement("li",null,r.a.createElement("span",{className:"param"},"Rotation Period :"),r.a.createElement("span",null,s)),r.a.createElement("li",null,r.a.createElement("span",{className:"param"},"Diameter :"),r.a.createElement("span",null,l))))))},O=w,y=(a(22),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={itemList:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then(function(t){e.setState({itemList:t})})}},{key:"renderItems",value:function(e){var t=this;return e.map(function(e){var a=e.id,n=e.name;return r.a.createElement("li",{key:a,onClick:function(){return t.props.onItemSelected(a)}},n)})}},{key:"render",value:function(){var e=this.state.itemList;if(!e)return r.a.createElement(E,null);var t=this.renderItems(e);return r.a.createElement("div",{className:"itemList"},r.a.createElement("ul",{className:"list-group"},t))}}]),t}(r.a.Component)),k=(a(23),a(24),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={renderError:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.renderError&&(this.foo.bar=0),r.a.createElement("button",{className:"error-button btn btn-danger btn-lg",onClick:function(){e.setState({renderError:!0})}},"Throw Error")}}]),t}(r.a.Component)),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new v,a.state={person:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updatePerson()}},{key:"componentDidUpdate",value:function(e){this.props.personId!==e.personId&&this.updatePerson()}},{key:"updatePerson",value:function(){var e=this,t=this.props.personId;t&&this.swapiService.getPerson(t).then(function(t){e.setState({person:t})})}},{key:"render",value:function(){if(!this.state.person)return r.a.createElement(E,null);var e=this.state.person,t=e.id,a=e.name,n=e.gender,c=e.height,s=e.mass,l=e.hair_color,o=e.birth_year,i=e.eye_color;return r.a.createElement("div",{className:"person-details"},r.a.createElement("div",{className:"person-img"},r.a.createElement("img",{className:"person-image",src:"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg"),alt:"character"})),r.a.createElement("div",{className:"person-info"},r.a.createElement("h3",null,a),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Gender : ",n)),r.a.createElement("li",null,r.a.createElement("span",null,"Height : ",c)),r.a.createElement("li",null,r.a.createElement("span",null,"Mass : ",s," kg")),r.a.createElement("li",null,r.a.createElement("span",null,"Eye color : ",i)),r.a.createElement("li",null,r.a.createElement("span",null,"Hair color : ",l)),r.a.createElement("li",null,r.a.createElement("span",null,"Birth year : ",o))),r.a.createElement(k,null)))}}]),t}(r.a.Component),S=(a(25),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"errorBlock"},r.a.createElement("img",{src:"https://cdn6.aptoide.com/imgs/5/0/8/508a67a9cf034ee87ebb5b7f48fbe06f_icon.png?w=256",alt:"Dart Vader"}),r.a.createElement("h1",null,"BOOM!"),r.a.createElement("p",null,"Dart Vader destroyed our app ! ",r.a.createElement("br",null),"But we already sent droids to fix it.",r.a.createElement("br",null),"May the force be with them ! "))}}]),t}(r.a.Component)),N=(a(26),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new v,a.state={selectedPerson:3,hasError:!1},a.onPersonSelected=function(e){a.setState({selectedPerson:e})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(S,null):r.a.createElement("div",{className:"content "},r.a.createElement(y,{onItemSelected:this.onPersonSelected,getData:this.swapiService.getAllPeople}),r.a.createElement(P,{personId:this.state.selectedPerson}))}}]),t}(r.a.Component)),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new v,a.state={showRandomPlanet:!0,hasError:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){if(this.state.hasError)return r.a.createElement(S,null);var e=this.state.showRandomPlanet?r.a.createElement(O,null):null;return r.a.createElement("div",{className:"app"},r.a.createElement(m,null),e,r.a.createElement(N,null))}}]),t}(r.a.Component);s.a.render(r.a.createElement(x,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.ff08e9d4.chunk.js.map